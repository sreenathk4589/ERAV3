<!DOCTYPE html>
<html>
<head>
    <title>Data Processor</title>
    <style>
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .text-box {
            margin: 20px 0;
            padding: 10px;
            border: 1px solid #ccc;
            min-height: 100px;
        }
        .button {
            margin: 10px 0;
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
        }
        .button:disabled {
            background-color: #ccc;
        }
        .highlight {
            background-color: #ffeb3b;
            padding: 0 2px;
        }
        .output-container {
            margin: 20px 0;
        }
        .output-container img {
            max-width: 100%;
        }
        #preprocessingInfo {
            margin: 10px 0;
            padding: 10px;
            background: #f5f5f5;
        }
        .button.loading {
            opacity: 0.7;
            cursor: not-allowed;
        }
        .error-message {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            max-width: 300px;
        }
        .upload-section {
            margin: 20px 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .file-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .action-buttons {
            margin: 20px 0;
            display: flex;
            gap: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Data Processor</h1>
        
        <div class="upload-section">
            <select id="input-type">
                <option value="">Select type...</option>
                <option value="text">Text</option>
                <option value="image">Image</option>
                <option value="audio">Audio</option>
                <option value="3d">3D Point Cloud</option>
            </select>
            
            <div class="file-controls">
                <input type="file" id="file-input">
                <button class="button" id="uploadButton" disabled>Upload</button>
                <button class="button" id="clearButton">Clear</button>
            </div>
        </div>

        <!-- Text Processing -->
        <div id="textContainer" class="output-container">
            <h2>Original Text</h2>
            <textarea class="text-box" id="inputText" readonly></textarea>
            
            <h2>Preprocessed Text</h2>
            <textarea class="text-box" id="preprocessedText" readonly></textarea>
            
            <h2>Augmented Text</h2>
            <textarea class="text-box" id="augmentedText" readonly></textarea>
        </div>

        <!-- Image Processing -->
        <div id="imageContainer" class="output-container" style="display: none;">
            <h2>Original Image</h2>
            <img id="inputImage" />
            
            <h2>Preprocessed Image</h2>
            <img id="preprocessedImage" />
            <div id="preprocessingInfo"></div>
            
            <h2>Augmented Image</h2>
            <img id="augmentedImage" />
        </div>

        <!-- Audio Processing -->
        <div id="audioContainer" class="output-container" style="display: none;">
            <h2>Original Audio</h2>
            <audio id="inputAudio" controls></audio>
            
            <h2>Preprocessed Audio</h2>
            <audio id="preprocessedAudio" controls></audio>
            <img id="audioVisualizations" />
            
            <h2>Augmented Audio</h2>
            <audio id="augmentedAudio" controls></audio>
        </div>

        <!-- 3D Processing -->
        <div id="3dContainer" class="output-container" style="display: none;">
            <h2>3D Point Cloud</h2>
            <div id="pointCloudCanvas"></div>
            <img id="pointCloudVisualization" />
        </div>

        <div class="action-buttons">
            <button class="button" id="preprocessButton" disabled>Preprocess</button>
            <button class="button" id="augmentButton" disabled>Augment</button>
        </div>
    </div>

    <div id="errorMessage" class="error-message" style="color: red; margin: 10px 0; padding: 10px; background: #ffe6e6; border-radius: 4px; display: none;"></div>

    <!-- Replace the script section at the bottom -->
    <script>
        console.log('Page starting to load');
        // Add error event listener
        window.addEventListener('error', function(e) {
            console.error('Script error:', e.message);
            console.error('Script:', e.filename);
            console.error('Line:', e.lineno);
            console.error('Column:', e.colno);
        });
    </script>
    <script src="{{ url_for('static', filename='js/test.js') }}" 
            onerror="console.error('Failed to load test.js')"
            type="text/javascript"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}" 
            onerror="console.error('Failed to load main.js')"
            type="text/javascript"></script>
</body>
</html> 